!function(t){"use strict";t("body").on("change",".display-on",function(o){var s=t(this),a=t(this).val(),e={action:"boostify_hf_load_autocomplate",token:admin.nonce,post_type:a};t.ajax({type:"POST",url:admin.url,data:e,beforeSend:function(o){t("#ht_hf_setting").addClass("loading")},success:function(o){t("#ht_hf_setting").removeClass("loading"),s.parents(".condition-group").find(".child-item").html(o)}})}),t("body").on("change",".no-display-on",function(o){var s=t(this),a=s.val(),e={action:"boostify_hf_ex_auto",_ajax_nonce:admin.nonce,post_type:a};t.ajax({type:"POST",url:admin.url,data:e,beforeSend:function(o){t("#ht_hf_setting").addClass("loading")},success:function(o){t("#ht_hf_setting").removeClass("loading"),s.parents(".condition-group").find(".child-item").html(o)}})}),t("body").on("keyup",".boostify--hf-post-name",function(){var o=t(this),s=o.parents(".input-item-wrapper"),a=s.find(".bhf-post-type").val(),e=o.val(),n={action:"boostify_hf_post_admin",_ajax_nonce:admin.nonce,post_type:a,key:e};t.ajax({type:"GET",url:admin.url,data:n,beforeSend:function(o){t("#ht_hf_setting").addClass("loading")},success:function(o){t("#ht_hf_setting").removeClass("loading"),s.find(".boostify-data").html(o)}})}),t("body").on("click",".display--on .post-item",function(){var o=t("input[name=bhf_post]").val(),s=t(".display--on .boostify-select-all-post"),a=s.parents(".boostify-section-select-post");s.hasClass("hidden")||s.addClass("hidden"),o=o&&"all"!=o?o.split(","):[],a.hasClass("has-option")||a.addClass("has-option");var e=t(this).attr("data-item"),n=t(this).html();if(!o.includes(e)){o.push(e);var i='<span class="boostify-auto-complete-key"><span class="boostify-title">'+n+'</span><span class="btn-boostify-auto-complete-delete ion-close" data-item="'+e+'"></span>';t(".boostify--hf-post-name").before(i)}t("input[name=bhf_post]").val(o),t(".boostify--hf-post-name").val(""),t(".boostify-data").html("")}),t("body").on("click",".not-display .post-item",function(){var o=t("input[name=bhf_ex_post]").val(),s=t(".not-display .boostify-select-all-post"),a=s.parents(".boostify-section-select-post");s.hasClass("hidden")||s.addClass("hidden"),o=o&&"all"!=o?o.split(","):[],a.hasClass("has-option")||a.addClass("has-option");var e=t(this).attr("data-item"),n=t(this).html();if(!o.includes(e)){o.push(e);var i='<span class="boostify-auto-complete-key"><span class="boostify-title">'+n+'</span><span class="btn-boostify-auto-complete-delete ion-close" data-item="'+e+'"></span>';t(".boostify--hf-post-name").before(i)}t("input[name=bhf_ex_post]").val(o),t(".boostify--hf-post-name").val(""),t(".boostify-data").html("")}),t("body").on("click",".boostify-auto-complete-field",function(o){var s=t(this).find(".boostify--hf-post-name");t(s,this).focus()}),t("body").on("click",".btn-boostify-auto-complete-delete",function(o){var s=t(this).attr("data-item"),a=t("input[name=bhf_post]").val(),e=t(".boostify-section-render--post"),n=e.parents(".boostify-section-select-post"),i=n.parents(".condition-group");""==(a=a&&"all"!=a?(a=a.replace(","+s,"")).replace(s,""):[])&&(a="all",e.addClass("hidden"),n.removeClass("render--post").addClass("select-all"),n.removeClass("has-option"),e.siblings(".boostify-select-all-post").removeClass("hidden"),t(".boostify-data").html("")),i.hasClass("not-display")?t("input[name=bhf_ex_post]").val(a):t("input[name=bhf_post]").val(a),t(this).parents(".boostify-auto-complete-key").remove()}),t("body").on("click",".boostify-select-all-post",function(o){var s=t(this).parents(".boostify-section-select-post"),a=s.find(".boostify-section-render--post");a.hasClass("hidden")?(a.removeClass("hidden"),s.removeClass("select-all").addClass("render--post")):(a.addClass("hidden"),s.removeClass("render--post").addClass("select-all"))}),t("body").on("click",function(o){t(".boostify-data").html(""),t(".boostify--hf-post-name").val("")}),t("#container").on("change",function(o){var s=t(this),a=t(this).val(),e={action:"boostify_hf_type",_ajax_nonce:admin.nonce,type:a};"sub_menu"==a?s.parents(".input-wrapper").siblings(".input-wrapper").remove():0==s.parents(".input-wrapper").siblings(".input-wrapper").length&&t.ajax({type:"GET",url:admin.url,data:e,beforeSend:function(o){t("#ht_hf_setting").addClass("loading")},success:function(o){t("#ht_hf_setting").removeClass("loading"),t(".form-meta-footer").append(o)}})}),t("#boostify-template-type").on("change",function(){var o=t(this),s=t(this).val(),a=o.parents(".boostify-template-first-row").siblings(".boostify-template-row-condition");"sub_menu"==s?a.css("display","none"):a.css("display","block")});var o=t("#boostify-new-template__form__submit"),s=t("#boostify-new-template__form__submit"),a=t(".boostify-templates-modal__header__close--normal");o.on("click",function(o){o.preventDefault();var a=t("#boostify-new-template__form").serialize();a+="&_ajax_nonce="+admin.nonce+"&action=boostify_create_post",t.ajax({type:"GET",url:admin.url,data:a,beforeSend:function(t){s.addClass("loading")},success:function(t){s.removeClass("loading"),window.location.href=t}})}),t(".post-type-btf_builder").on("click",".page-title-action",function(o){o.preventDefault(),t("#boostify-new-template-modal").addClass("show")}),a.on("click",function(o){o.preventDefault(),t("#boostify-new-template-modal").removeClass("show")})}(jQuery);